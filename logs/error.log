{"context":{"endpoint":"/api/users/d2c9b953-8a4e-483a-ba1a-09530d6427e3/stats"},"error":"_lib_analytics__WEBPACK_IMPORTED_MODULE_3__.Analytics.getUserAnalytics is not a function","level":"error","message":"Application error","service":"amhsj","stack":"TypeError: _lib_analytics__WEBPACK_IMPORTED_MODULE_3__.Analytics.getUserAnalytics is not a function\n    at GET (webpack-internal:///(rsc)/./app/api/users/[id]/stats/route.ts:26:84)\n    at async AppRouteRouteModule.do (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:26:33891)\n    at async AppRouteRouteModule.handle (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:26:41254)\n    at async doRender (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:1513:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:1915:28)\n    at async DevServer.renderPageComponent (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:2393:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:2430:32)\n    at async DevServer.pipeImpl (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:1003:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\next-server.js:304:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:895:17)\n    at async C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\router-server.js:235:21)\n    at async handleRequest (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\router-server.js:426:24)\n    at async requestHandlerImpl (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\router-server.js:450:13)\n    at async Server.requestListener (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)","timestamp":"2025-06-19T23:25:16.906Z"}
{"context":{"endpoint":"/api/users/d2c9b953-8a4e-483a-ba1a-09530d6427e3/stats"},"error":"_lib_analytics__WEBPACK_IMPORTED_MODULE_3__.Analytics.getUserAnalytics is not a function","level":"error","message":"Application error","service":"amhsj","stack":"TypeError: _lib_analytics__WEBPACK_IMPORTED_MODULE_3__.Analytics.getUserAnalytics is not a function\n    at GET (webpack-internal:///(rsc)/./app/api/users/[id]/stats/route.ts:26:84)\n    at async AppRouteRouteModule.do (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:26:33891)\n    at async AppRouteRouteModule.handle (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:26:41254)\n    at async doRender (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:1513:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:1915:28)\n    at async DevServer.renderPageComponent (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:2393:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:2430:32)\n    at async DevServer.pipeImpl (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:1003:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\next-server.js:304:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:895:17)\n    at async C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\router-server.js:235:21)\n    at async handleRequest (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\router-server.js:426:24)\n    at async requestHandlerImpl (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\router-server.js:450:13)\n    at async Server.requestListener (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)","timestamp":"2025-06-19T23:25:23.095Z"}
{"context":{"endpoint":"/api/users/d2c9b953-8a4e-483a-ba1a-09530d6427e3/stats"},"error":"_lib_analytics__WEBPACK_IMPORTED_MODULE_3__.Analytics.getUserAnalytics is not a function","level":"error","message":"Application error","service":"amhsj","stack":"TypeError: _lib_analytics__WEBPACK_IMPORTED_MODULE_3__.Analytics.getUserAnalytics is not a function\n    at GET (webpack-internal:///(rsc)/./app/api/users/[id]/stats/route.ts:26:84)\n    at async AppRouteRouteModule.do (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:26:33891)\n    at async AppRouteRouteModule.handle (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:26:41254)\n    at async doRender (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:1513:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:1915:28)\n    at async DevServer.renderPageComponent (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:2393:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:2430:32)\n    at async DevServer.pipeImpl (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:1003:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\next-server.js:304:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:895:17)\n    at async C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\router-server.js:235:21)\n    at async handleRequest (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\router-server.js:426:24)\n    at async requestHandlerImpl (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\router-server.js:450:13)\n    at async Server.requestListener (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)","timestamp":"2025-06-19T23:25:28.241Z"}
{"context":{"endpoint":"/api/messages/conversations"},"error":"Failed query: select \"id\", \"subject\", \"type\", \"related_title\", \"participants\", \"last_activity\", \"created_at\", (\n          SELECT content \n          FROM messages \n          WHERE conversation_id = \"id\" \n          ORDER BY created_at DESC \n          LIMIT 1\n        ), (\n          SELECT COUNT(*)::int\n          FROM messages \n          WHERE conversation_id = \"id\" \n          AND sender_id != $1\n          AND (read_by IS NULL OR NOT (read_by @> '[{\"userId\": \"$2\"}]'::jsonb))\n        ) from \"conversations\" where participants @> '[{\"id\": \"$3\"}]'::jsonb order by \"conversations\".\"last_activity\" desc\nparams: d2c9b953-8a4e-483a-ba1a-09530d6427e3,d2c9b953-8a4e-483a-ba1a-09530d6427e3,d2c9b953-8a4e-483a-ba1a-09530d6427e3","level":"error","message":"Application error","service":"amhsj","stack":"Error: Failed query: select \"id\", \"subject\", \"type\", \"related_title\", \"participants\", \"last_activity\", \"created_at\", (\n          SELECT content \n          FROM messages \n          WHERE conversation_id = \"id\" \n          ORDER BY created_at DESC \n          LIMIT 1\n        ), (\n          SELECT COUNT(*)::int\n          FROM messages \n          WHERE conversation_id = \"id\" \n          AND sender_id != $1\n          AND (read_by IS NULL OR NOT (read_by @> '[{\"userId\": \"$2\"}]'::jsonb))\n        ) from \"conversations\" where participants @> '[{\"id\": \"$3\"}]'::jsonb order by \"conversations\".\"last_activity\" desc\nparams: d2c9b953-8a4e-483a-ba1a-09530d6427e3,d2c9b953-8a4e-483a-ba1a-09530d6427e3,d2c9b953-8a4e-483a-ba1a-09530d6427e3\n    at NeonHttpPreparedQuery.queryWithCache (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/pg-core/session.js:55:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async NeonHttpPreparedQuery.execute (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/neon-http/session.js:57:20)\n    at async GET (webpack-internal:///(rsc)/./app/api/messages/conversations/route.ts:32:35)\n    at async AppRouteRouteModule.do (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:26:33891)\n    at async AppRouteRouteModule.handle (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:26:41254)\n    at async doRender (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:1513:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:1915:28)\n    at async DevServer.renderPageComponent (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:2393:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:2430:32)\n    at async DevServer.pipeImpl (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:1003:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\next-server.js:304:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:895:17)\n    at async C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\router-server.js:235:21)\n    at async handleRequest (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\router-server.js:426:24)\n    at async requestHandlerImpl (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\router-server.js:450:13)\n    at async Server.requestListener (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)","timestamp":"2025-06-20T00:20:35.184Z"}
{"context":{"endpoint":"/api/messages/conversations"},"error":"Failed query: select \"id\", \"subject\", \"type\", \"related_title\", \"participants\", \"last_activity\", \"created_at\", (\n          SELECT content \n          FROM messages \n          WHERE conversation_id = \"id\" \n          ORDER BY created_at DESC \n          LIMIT 1\n        ), (\n          SELECT COUNT(*)::int\n          FROM messages \n          WHERE conversation_id = \"id\" \n          AND sender_id != $1\n          AND (read_by IS NULL OR NOT (read_by @> '[{\"userId\": \"$2\"}]'::jsonb))\n        ) from \"conversations\" where participants @> '[{\"id\": \"$3\"}]'::jsonb order by \"conversations\".\"last_activity\" desc\nparams: d2c9b953-8a4e-483a-ba1a-09530d6427e3,d2c9b953-8a4e-483a-ba1a-09530d6427e3,d2c9b953-8a4e-483a-ba1a-09530d6427e3","level":"error","message":"Application error","service":"amhsj","stack":"Error: Failed query: select \"id\", \"subject\", \"type\", \"related_title\", \"participants\", \"last_activity\", \"created_at\", (\n          SELECT content \n          FROM messages \n          WHERE conversation_id = \"id\" \n          ORDER BY created_at DESC \n          LIMIT 1\n        ), (\n          SELECT COUNT(*)::int\n          FROM messages \n          WHERE conversation_id = \"id\" \n          AND sender_id != $1\n          AND (read_by IS NULL OR NOT (read_by @> '[{\"userId\": \"$2\"}]'::jsonb))\n        ) from \"conversations\" where participants @> '[{\"id\": \"$3\"}]'::jsonb order by \"conversations\".\"last_activity\" desc\nparams: d2c9b953-8a4e-483a-ba1a-09530d6427e3,d2c9b953-8a4e-483a-ba1a-09530d6427e3,d2c9b953-8a4e-483a-ba1a-09530d6427e3\n    at NeonHttpPreparedQuery.queryWithCache (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/pg-core/session.js:55:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async NeonHttpPreparedQuery.execute (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/neon-http/session.js:57:20)\n    at async GET (webpack-internal:///(rsc)/./app/api/messages/conversations/route.ts:32:35)\n    at async AppRouteRouteModule.do (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:26:33891)\n    at async AppRouteRouteModule.handle (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:26:41254)\n    at async doRender (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:1513:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:1915:28)\n    at async DevServer.renderPageComponent (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:2393:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:2430:32)\n    at async DevServer.pipeImpl (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:1003:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\next-server.js:304:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:895:17)\n    at async C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\router-server.js:235:21)\n    at async handleRequest (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\router-server.js:426:24)\n    at async requestHandlerImpl (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\router-server.js:450:13)\n    at async Server.requestListener (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)","timestamp":"2025-06-20T00:20:39.370Z"}
{"context":{"endpoint":"/api/messages/conversations"},"error":"Failed query: select \"id\", \"subject\", \"type\", \"related_title\", \"participants\", \"last_activity\", \"created_at\", (\n          SELECT content \n          FROM messages \n          WHERE conversation_id = \"id\" \n          ORDER BY created_at DESC \n          LIMIT 1\n        ), (\n          SELECT COUNT(*)::int\n          FROM messages \n          WHERE conversation_id = \"id\" \n          AND sender_id != $1\n          AND (read_by IS NULL OR NOT (read_by @> '[{\"userId\": \"$2\"}]'::jsonb))\n        ) from \"conversations\" where participants @> '[{\"id\": \"$3\"}]'::jsonb order by \"conversations\".\"last_activity\" desc\nparams: d2c9b953-8a4e-483a-ba1a-09530d6427e3,d2c9b953-8a4e-483a-ba1a-09530d6427e3,d2c9b953-8a4e-483a-ba1a-09530d6427e3","level":"error","message":"Application error","service":"amhsj","stack":"Error: Failed query: select \"id\", \"subject\", \"type\", \"related_title\", \"participants\", \"last_activity\", \"created_at\", (\n          SELECT content \n          FROM messages \n          WHERE conversation_id = \"id\" \n          ORDER BY created_at DESC \n          LIMIT 1\n        ), (\n          SELECT COUNT(*)::int\n          FROM messages \n          WHERE conversation_id = \"id\" \n          AND sender_id != $1\n          AND (read_by IS NULL OR NOT (read_by @> '[{\"userId\": \"$2\"}]'::jsonb))\n        ) from \"conversations\" where participants @> '[{\"id\": \"$3\"}]'::jsonb order by \"conversations\".\"last_activity\" desc\nparams: d2c9b953-8a4e-483a-ba1a-09530d6427e3,d2c9b953-8a4e-483a-ba1a-09530d6427e3,d2c9b953-8a4e-483a-ba1a-09530d6427e3\n    at NeonHttpPreparedQuery.queryWithCache (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/pg-core/session.js:55:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async NeonHttpPreparedQuery.execute (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/neon-http/session.js:57:20)\n    at async GET (webpack-internal:///(rsc)/./app/api/messages/conversations/route.ts:32:35)\n    at async AppRouteRouteModule.do (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:26:33891)\n    at async AppRouteRouteModule.handle (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:26:41254)\n    at async doRender (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:1513:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:1915:28)\n    at async DevServer.renderPageComponent (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:2393:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:2430:32)\n    at async DevServer.pipeImpl (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:1003:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\next-server.js:304:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:895:17)\n    at async C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\router-server.js:235:21)\n    at async handleRequest (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\router-server.js:426:24)\n    at async requestHandlerImpl (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\router-server.js:450:13)\n    at async Server.requestListener (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)","timestamp":"2025-06-20T00:20:43.633Z"}
{"context":{"endpoint":"/api/messages/conversations"},"error":"Failed query: select \"id\", \"subject\", \"type\", \"related_title\", \"participants\", \"last_activity\", \"created_at\", (\n          SELECT content \n          FROM messages \n          WHERE conversation_id = \"id\" \n          ORDER BY created_at DESC \n          LIMIT 1\n        ), (\n          SELECT COUNT(*)::int\n          FROM messages \n          WHERE conversation_id = \"id\" \n          AND sender_id != $1\n          AND (read_by IS NULL OR NOT (read_by @> '[{\"userId\": \"$2\"}]'::jsonb))\n        ) from \"conversations\" where participants @> '[{\"id\": \"$3\"}]'::jsonb order by \"conversations\".\"last_activity\" desc\nparams: d2c9b953-8a4e-483a-ba1a-09530d6427e3,d2c9b953-8a4e-483a-ba1a-09530d6427e3,d2c9b953-8a4e-483a-ba1a-09530d6427e3","level":"error","message":"Application error","service":"amhsj","stack":"Error: Failed query: select \"id\", \"subject\", \"type\", \"related_title\", \"participants\", \"last_activity\", \"created_at\", (\n          SELECT content \n          FROM messages \n          WHERE conversation_id = \"id\" \n          ORDER BY created_at DESC \n          LIMIT 1\n        ), (\n          SELECT COUNT(*)::int\n          FROM messages \n          WHERE conversation_id = \"id\" \n          AND sender_id != $1\n          AND (read_by IS NULL OR NOT (read_by @> '[{\"userId\": \"$2\"}]'::jsonb))\n        ) from \"conversations\" where participants @> '[{\"id\": \"$3\"}]'::jsonb order by \"conversations\".\"last_activity\" desc\nparams: d2c9b953-8a4e-483a-ba1a-09530d6427e3,d2c9b953-8a4e-483a-ba1a-09530d6427e3,d2c9b953-8a4e-483a-ba1a-09530d6427e3\n    at NeonHttpPreparedQuery.queryWithCache (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/pg-core/session.js:55:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async NeonHttpPreparedQuery.execute (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/neon-http/session.js:57:20)\n    at async GET (webpack-internal:///(rsc)/./app/api/messages/conversations/route.ts:32:35)\n    at async AppRouteRouteModule.do (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:26:33891)\n    at async AppRouteRouteModule.handle (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:26:41254)\n    at async doRender (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:1513:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:1915:28)\n    at async DevServer.renderPageComponent (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:2393:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:2430:32)\n    at async DevServer.pipeImpl (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:1003:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\next-server.js:304:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:895:17)\n    at async C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\router-server.js:235:21)\n    at async handleRequest (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\router-server.js:426:24)\n    at async requestHandlerImpl (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\router-server.js:450:13)\n    at async Server.requestListener (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)","timestamp":"2025-06-20T00:20:44.686Z"}
{"context":{"endpoint":"/api/messages/conversations"},"error":"Failed query: select \"id\", \"subject\", \"type\", \"related_title\", \"participants\", \"last_activity\", \"created_at\", (\n          SELECT content \n          FROM messages \n          WHERE conversation_id = \"id\" \n          ORDER BY created_at DESC \n          LIMIT 1\n        ), (\n          SELECT COUNT(*)::int\n          FROM messages \n          WHERE conversation_id = \"id\" \n          AND sender_id != $1\n          AND (read_by IS NULL OR NOT (read_by @> '[{\"userId\": \"$2\"}]'::jsonb))\n        ) from \"conversations\" where participants @> '[{\"id\": \"$3\"}]'::jsonb order by \"conversations\".\"last_activity\" desc\nparams: d2c9b953-8a4e-483a-ba1a-09530d6427e3,d2c9b953-8a4e-483a-ba1a-09530d6427e3,d2c9b953-8a4e-483a-ba1a-09530d6427e3","level":"error","message":"Application error","service":"amhsj","stack":"Error: Failed query: select \"id\", \"subject\", \"type\", \"related_title\", \"participants\", \"last_activity\", \"created_at\", (\n          SELECT content \n          FROM messages \n          WHERE conversation_id = \"id\" \n          ORDER BY created_at DESC \n          LIMIT 1\n        ), (\n          SELECT COUNT(*)::int\n          FROM messages \n          WHERE conversation_id = \"id\" \n          AND sender_id != $1\n          AND (read_by IS NULL OR NOT (read_by @> '[{\"userId\": \"$2\"}]'::jsonb))\n        ) from \"conversations\" where participants @> '[{\"id\": \"$3\"}]'::jsonb order by \"conversations\".\"last_activity\" desc\nparams: d2c9b953-8a4e-483a-ba1a-09530d6427e3,d2c9b953-8a4e-483a-ba1a-09530d6427e3,d2c9b953-8a4e-483a-ba1a-09530d6427e3\n    at NeonHttpPreparedQuery.queryWithCache (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/pg-core/session.js:55:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async NeonHttpPreparedQuery.execute (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/neon-http/session.js:57:20)\n    at async GET (webpack-internal:///(rsc)/./app/api/messages/conversations/route.ts:32:35)\n    at async AppRouteRouteModule.do (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:26:33891)\n    at async AppRouteRouteModule.handle (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:26:41254)\n    at async doRender (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:1513:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:1915:28)\n    at async DevServer.renderPageComponent (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:2393:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:2430:32)\n    at async DevServer.pipeImpl (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:1003:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\next-server.js:304:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:895:17)\n    at async C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\router-server.js:235:21)\n    at async handleRequest (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\router-server.js:426:24)\n    at async requestHandlerImpl (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\router-server.js:450:13)\n    at async Server.requestListener (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)","timestamp":"2025-06-20T00:27:37.496Z"}
{"context":{"endpoint":"/api/messages/conversations"},"error":"Failed query: select \"id\", \"subject\", \"type\", \"related_title\", \"participants\", \"last_activity\", \"created_at\", (\n          SELECT content \n          FROM messages \n          WHERE conversation_id = \"id\" \n          ORDER BY created_at DESC \n          LIMIT 1\n        ), (\n          SELECT COUNT(*)::int\n          FROM messages \n          WHERE conversation_id = \"id\" \n          AND sender_id != $1\n          AND (read_by IS NULL OR NOT (read_by @> '[{\"userId\": \"$2\"}]'::jsonb))\n        ) from \"conversations\" where participants @> '[{\"id\": \"$3\"}]'::jsonb order by \"conversations\".\"last_activity\" desc\nparams: d2c9b953-8a4e-483a-ba1a-09530d6427e3,d2c9b953-8a4e-483a-ba1a-09530d6427e3,d2c9b953-8a4e-483a-ba1a-09530d6427e3","level":"error","message":"Application error","service":"amhsj","stack":"Error: Failed query: select \"id\", \"subject\", \"type\", \"related_title\", \"participants\", \"last_activity\", \"created_at\", (\n          SELECT content \n          FROM messages \n          WHERE conversation_id = \"id\" \n          ORDER BY created_at DESC \n          LIMIT 1\n        ), (\n          SELECT COUNT(*)::int\n          FROM messages \n          WHERE conversation_id = \"id\" \n          AND sender_id != $1\n          AND (read_by IS NULL OR NOT (read_by @> '[{\"userId\": \"$2\"}]'::jsonb))\n        ) from \"conversations\" where participants @> '[{\"id\": \"$3\"}]'::jsonb order by \"conversations\".\"last_activity\" desc\nparams: d2c9b953-8a4e-483a-ba1a-09530d6427e3,d2c9b953-8a4e-483a-ba1a-09530d6427e3,d2c9b953-8a4e-483a-ba1a-09530d6427e3\n    at NeonHttpPreparedQuery.queryWithCache (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/pg-core/session.js:55:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async NeonHttpPreparedQuery.execute (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/neon-http/session.js:57:20)\n    at async GET (webpack-internal:///(rsc)/./app/api/messages/conversations/route.ts:32:35)\n    at async AppRouteRouteModule.do (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:26:33891)\n    at async AppRouteRouteModule.handle (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:26:41254)\n    at async doRender (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:1513:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:1915:28)\n    at async DevServer.renderPageComponent (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:2393:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:2430:32)\n    at async DevServer.pipeImpl (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:1003:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\next-server.js:304:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:895:17)\n    at async C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\router-server.js:235:21)\n    at async handleRequest (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\router-server.js:426:24)\n    at async requestHandlerImpl (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\router-server.js:450:13)\n    at async Server.requestListener (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)","timestamp":"2025-06-20T00:27:37.894Z"}
{"context":{"endpoint":"/api/messages/conversations"},"error":"Failed query: select \"id\", \"subject\", \"type\", \"related_title\", \"participants\", \"last_activity\", \"created_at\", (\n          SELECT content \n          FROM messages \n          WHERE conversation_id = \"id\" \n          ORDER BY created_at DESC \n          LIMIT 1\n        ), (\n          SELECT COUNT(*)::int\n          FROM messages \n          WHERE conversation_id = \"id\" \n          AND sender_id != $1\n          AND (read_by IS NULL OR NOT (read_by @> '[{\"userId\": \"$2\"}]'::jsonb))\n        ) from \"conversations\" where participants @> '[{\"id\": \"$3\"}]'::jsonb order by \"conversations\".\"last_activity\" desc\nparams: d2c9b953-8a4e-483a-ba1a-09530d6427e3,d2c9b953-8a4e-483a-ba1a-09530d6427e3,d2c9b953-8a4e-483a-ba1a-09530d6427e3","level":"error","message":"Application error","service":"amhsj","stack":"Error: Failed query: select \"id\", \"subject\", \"type\", \"related_title\", \"participants\", \"last_activity\", \"created_at\", (\n          SELECT content \n          FROM messages \n          WHERE conversation_id = \"id\" \n          ORDER BY created_at DESC \n          LIMIT 1\n        ), (\n          SELECT COUNT(*)::int\n          FROM messages \n          WHERE conversation_id = \"id\" \n          AND sender_id != $1\n          AND (read_by IS NULL OR NOT (read_by @> '[{\"userId\": \"$2\"}]'::jsonb))\n        ) from \"conversations\" where participants @> '[{\"id\": \"$3\"}]'::jsonb order by \"conversations\".\"last_activity\" desc\nparams: d2c9b953-8a4e-483a-ba1a-09530d6427e3,d2c9b953-8a4e-483a-ba1a-09530d6427e3,d2c9b953-8a4e-483a-ba1a-09530d6427e3\n    at NeonHttpPreparedQuery.queryWithCache (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/pg-core/session.js:55:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async NeonHttpPreparedQuery.execute (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/neon-http/session.js:57:20)\n    at async GET (webpack-internal:///(rsc)/./app/api/messages/conversations/route.ts:32:35)\n    at async AppRouteRouteModule.do (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:26:33891)\n    at async AppRouteRouteModule.handle (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:26:41254)\n    at async doRender (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:1513:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:1915:28)\n    at async DevServer.renderPageComponent (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:2393:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:2430:32)\n    at async DevServer.pipeImpl (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:1003:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\next-server.js:304:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:895:17)\n    at async C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\router-server.js:235:21)\n    at async handleRequest (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\router-server.js:426:24)\n    at async requestHandlerImpl (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\router-server.js:450:13)\n    at async Server.requestListener (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)","timestamp":"2025-06-20T00:28:36.079Z"}
{"context":{"endpoint":"/api/messages/conversations"},"error":"Failed query: select \"id\", \"subject\", \"type\", \"related_title\", \"participants\", \"last_activity\", \"created_at\", (\n          SELECT content \n          FROM messages \n          WHERE conversation_id = \"id\" \n          ORDER BY created_at DESC \n          LIMIT 1\n        ), (\n          SELECT COUNT(*)::int\n          FROM messages \n          WHERE conversation_id = \"id\" \n          AND sender_id != $1\n          AND (read_by IS NULL OR NOT (read_by @> '[{\"userId\": \"$2\"}]'::jsonb))\n        ) from \"conversations\" where participants @> '[{\"id\": \"$3\"}]'::jsonb order by \"conversations\".\"last_activity\" desc\nparams: d2c9b953-8a4e-483a-ba1a-09530d6427e3,d2c9b953-8a4e-483a-ba1a-09530d6427e3,d2c9b953-8a4e-483a-ba1a-09530d6427e3","level":"error","message":"Application error","service":"amhsj","stack":"Error: Failed query: select \"id\", \"subject\", \"type\", \"related_title\", \"participants\", \"last_activity\", \"created_at\", (\n          SELECT content \n          FROM messages \n          WHERE conversation_id = \"id\" \n          ORDER BY created_at DESC \n          LIMIT 1\n        ), (\n          SELECT COUNT(*)::int\n          FROM messages \n          WHERE conversation_id = \"id\" \n          AND sender_id != $1\n          AND (read_by IS NULL OR NOT (read_by @> '[{\"userId\": \"$2\"}]'::jsonb))\n        ) from \"conversations\" where participants @> '[{\"id\": \"$3\"}]'::jsonb order by \"conversations\".\"last_activity\" desc\nparams: d2c9b953-8a4e-483a-ba1a-09530d6427e3,d2c9b953-8a4e-483a-ba1a-09530d6427e3,d2c9b953-8a4e-483a-ba1a-09530d6427e3\n    at NeonHttpPreparedQuery.queryWithCache (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/pg-core/session.js:55:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async NeonHttpPreparedQuery.execute (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/neon-http/session.js:57:20)\n    at async GET (webpack-internal:///(rsc)/./app/api/messages/conversations/route.ts:32:35)\n    at async AppRouteRouteModule.do (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:26:33891)\n    at async AppRouteRouteModule.handle (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:26:41254)\n    at async doRender (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:1513:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:1915:28)\n    at async DevServer.renderPageComponent (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:2393:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:2430:32)\n    at async DevServer.pipeImpl (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:1003:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\next-server.js:304:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:895:17)\n    at async C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\router-server.js:235:21)\n    at async handleRequest (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\router-server.js:426:24)\n    at async requestHandlerImpl (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\router-server.js:450:13)\n    at async Server.requestListener (C:\\Users\\HP\\Documents\\APPS\\journal\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)","timestamp":"2025-06-20T00:28:36.107Z"}
{"context":{"endpoint":"/api/workflow/submit"},"error":"[\n  {\n    \"code\": \"too_small\",\n    \"minimum\": 10,\n    \"type\": \"string\",\n    \"inclusive\": true,\n    \"exact\": false,\n    \"message\": \"Title must be at least 10 characters\",\n    \"path\": [\n      \"title\"\n    ]\n  },\n  {\n    \"code\": \"too_small\",\n    \"minimum\": 3,\n    \"type\": \"array\",\n    \"inclusive\": true,\n    \"exact\": false,\n    \"message\": \"At least 3 keywords required\",\n    \"path\": [\n      \"keywords\"\n    ]\n  }\n]","level":"error","message":"Application error","service":"amhsj","stack":"ZodError: [\n  {\n    \"code\": \"too_small\",\n    \"minimum\": 10,\n    \"type\": \"string\",\n    \"inclusive\": true,\n    \"exact\": false,\n    \"message\": \"Title must be at least 10 characters\",\n    \"path\": [\n      \"title\"\n    ]\n  },\n  {\n    \"code\": \"too_small\",\n    \"minimum\": 3,\n    \"type\": \"array\",\n    \"inclusive\": true,\n    \"exact\": false,\n    \"message\": \"At least 3 keywords required\",\n    \"path\": [\n      \"keywords\"\n    ]\n  }\n]\n    at get error (webpack-internal:///(rsc)/./node_modules/.pnpm/zod@3.25.67/node_modules/zod/dist/esm/v3/types.js:133:31)\n    at ZodObject.parse (webpack-internal:///(rsc)/./node_modules/.pnpm/zod@3.25.67/node_modules/zod/dist/esm/v3/types.js:208:22)\n    at POST (webpack-internal:///(rsc)/./app/api/workflow/submit/route.ts:29:101)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async AppRouteRouteModule.do (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:26:33891)\n    at async AppRouteRouteModule.handle (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:26:41254)\n    at async doRender (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:1513:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:1915:28)\n    at async DevServer.renderPageComponent (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:2393:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:2430:32)\n    at async DevServer.pipeImpl (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:1003:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\next-server.js:304:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:895:17)\n    at async C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\router-server.js:235:21)\n    at async handleRequest (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\router-server.js:426:24)\n    at async requestHandlerImpl (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\router-server.js:450:13)\n    at async Server.requestListener (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)","timestamp":"2025-08-09T14:01:15.938Z"}
{"context":{"endpoint":"/api/workflow/submit"},"error":"_lib_workflow__WEBPACK_IMPORTED_MODULE_3__.EditorialWorkflow.submitArticle is not a function","level":"error","message":"Application error","service":"amhsj","stack":"TypeError: _lib_workflow__WEBPACK_IMPORTED_MODULE_3__.EditorialWorkflow.submitArticle is not a function\n    at POST (webpack-internal:///(rsc)/./app/api/workflow/submit/route.ts:30:91)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async AppRouteRouteModule.do (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:26:33891)\n    at async AppRouteRouteModule.handle (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:26:41254)\n    at async doRender (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:1513:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:1915:28)\n    at async DevServer.renderPageComponent (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:2393:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:2430:32)\n    at async DevServer.pipeImpl (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:1003:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\next-server.js:304:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:895:17)\n    at async C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\router-server.js:235:21)\n    at async handleRequest (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\router-server.js:426:24)\n    at async requestHandlerImpl (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\router-server.js:450:13)\n    at async Server.requestListener (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)","timestamp":"2025-08-09T14:12:15.864Z"}
{"context":{"endpoint":"/api/workflow/submit"},"error":"_lib_workflow__WEBPACK_IMPORTED_MODULE_3__.EditorialWorkflow.submitArticle is not a function","level":"error","message":"Application error","service":"amhsj","stack":"TypeError: _lib_workflow__WEBPACK_IMPORTED_MODULE_3__.EditorialWorkflow.submitArticle is not a function\n    at POST (webpack-internal:///(rsc)/./app/api/workflow/submit/route.ts:30:91)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async AppRouteRouteModule.do (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:26:33891)\n    at async AppRouteRouteModule.handle (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:26:41254)\n    at async doRender (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:1513:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:1915:28)\n    at async DevServer.renderPageComponent (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:2393:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:2430:32)\n    at async DevServer.pipeImpl (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:1003:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\next-server.js:304:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:895:17)\n    at async C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\router-server.js:235:21)\n    at async handleRequest (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\router-server.js:426:24)\n    at async requestHandlerImpl (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\router-server.js:450:13)\n    at async Server.requestListener (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)","timestamp":"2025-08-09T14:27:01.962Z"}
{"context":{"endpoint":"/api/messages/conversations"},"error":"Failed query: select \"id\", \"subject\", \"type\", \"related_title\", \"participants\", \"last_activity\", \"created_at\", (\n          SELECT content \n          FROM messages \n          WHERE conversation_id = \"id\" \n          ORDER BY created_at DESC \n          LIMIT 1\n        ), (\n          SELECT COUNT(*)::int\n          FROM messages \n          WHERE conversation_id = \"id\" \n          AND sender_id != $1\n          AND (read_by IS NULL OR NOT (read_by @> '[{\"userId\": \"$2\"}]'::jsonb))\n        ) from \"conversations\" where participants @> '[{\"id\": \"$3\"}]'::jsonb order by \"conversations\".\"last_activity\" desc\nparams: 3fd73e57-b28b-4788-9a83-2f2b3feecad0,3fd73e57-b28b-4788-9a83-2f2b3feecad0,3fd73e57-b28b-4788-9a83-2f2b3feecad0","level":"error","message":"Application error","service":"amhsj","stack":"Error: Failed query: select \"id\", \"subject\", \"type\", \"related_title\", \"participants\", \"last_activity\", \"created_at\", (\n          SELECT content \n          FROM messages \n          WHERE conversation_id = \"id\" \n          ORDER BY created_at DESC \n          LIMIT 1\n        ), (\n          SELECT COUNT(*)::int\n          FROM messages \n          WHERE conversation_id = \"id\" \n          AND sender_id != $1\n          AND (read_by IS NULL OR NOT (read_by @> '[{\"userId\": \"$2\"}]'::jsonb))\n        ) from \"conversations\" where participants @> '[{\"id\": \"$3\"}]'::jsonb order by \"conversations\".\"last_activity\" desc\nparams: 3fd73e57-b28b-4788-9a83-2f2b3feecad0,3fd73e57-b28b-4788-9a83-2f2b3feecad0,3fd73e57-b28b-4788-9a83-2f2b3feecad0\n    at PostgresJsPreparedQuery.queryWithCache (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/pg-core/session.js:55:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async eval (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/postgres-js/session.js:50:20)\n    at async GET (webpack-internal:///(rsc)/./app/api/messages/conversations/route.ts:32:35)\n    at async AppRouteRouteModule.do (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:26:33891)\n    at async AppRouteRouteModule.handle (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:26:41254)\n    at async doRender (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:1513:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:1915:28)\n    at async DevServer.renderPageComponent (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:2393:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:2430:32)\n    at async DevServer.pipeImpl (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:1003:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\next-server.js:304:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:895:17)\n    at async C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\router-server.js:235:21)\n    at async handleRequest (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\router-server.js:426:24)\n    at async requestHandlerImpl (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\router-server.js:450:13)\n    at async Server.requestListener (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)","timestamp":"2025-08-09T14:39:38.712Z"}
{"context":{"endpoint":"/api/messages/conversations"},"error":"Failed query: select \"id\", \"subject\", \"type\", \"related_title\", \"participants\", \"last_activity\", \"created_at\", (\n          SELECT content \n          FROM messages \n          WHERE conversation_id = \"id\" \n          ORDER BY created_at DESC \n          LIMIT 1\n        ), (\n          SELECT COUNT(*)::int\n          FROM messages \n          WHERE conversation_id = \"id\" \n          AND sender_id != $1\n          AND (read_by IS NULL OR NOT (read_by @> '[{\"userId\": \"$2\"}]'::jsonb))\n        ) from \"conversations\" where participants @> '[{\"id\": \"$3\"}]'::jsonb order by \"conversations\".\"last_activity\" desc\nparams: 3fd73e57-b28b-4788-9a83-2f2b3feecad0,3fd73e57-b28b-4788-9a83-2f2b3feecad0,3fd73e57-b28b-4788-9a83-2f2b3feecad0","level":"error","message":"Application error","service":"amhsj","stack":"Error: Failed query: select \"id\", \"subject\", \"type\", \"related_title\", \"participants\", \"last_activity\", \"created_at\", (\n          SELECT content \n          FROM messages \n          WHERE conversation_id = \"id\" \n          ORDER BY created_at DESC \n          LIMIT 1\n        ), (\n          SELECT COUNT(*)::int\n          FROM messages \n          WHERE conversation_id = \"id\" \n          AND sender_id != $1\n          AND (read_by IS NULL OR NOT (read_by @> '[{\"userId\": \"$2\"}]'::jsonb))\n        ) from \"conversations\" where participants @> '[{\"id\": \"$3\"}]'::jsonb order by \"conversations\".\"last_activity\" desc\nparams: 3fd73e57-b28b-4788-9a83-2f2b3feecad0,3fd73e57-b28b-4788-9a83-2f2b3feecad0,3fd73e57-b28b-4788-9a83-2f2b3feecad0\n    at PostgresJsPreparedQuery.queryWithCache (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/pg-core/session.js:55:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async eval (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/postgres-js/session.js:50:20)\n    at async GET (webpack-internal:///(rsc)/./app/api/messages/conversations/route.ts:32:35)\n    at async AppRouteRouteModule.do (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:26:33891)\n    at async AppRouteRouteModule.handle (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:26:41254)\n    at async doRender (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:1513:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:1915:28)\n    at async DevServer.renderPageComponent (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:2393:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:2430:32)\n    at async DevServer.pipeImpl (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:1003:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\next-server.js:304:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:895:17)\n    at async C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\router-server.js:235:21)\n    at async handleRequest (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\router-server.js:426:24)\n    at async requestHandlerImpl (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\router-server.js:450:13)\n    at async Server.requestListener (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)","timestamp":"2025-08-09T14:39:38.753Z"}
{"context":{"endpoint":"/api/messages/conversations"},"error":"Failed query: select \"id\", \"subject\", \"type\", \"related_title\", \"participants\", \"last_activity\", \"created_at\", (\n          SELECT content \n          FROM messages \n          WHERE conversation_id = \"id\" \n          ORDER BY created_at DESC \n          LIMIT 1\n        ), (\n          SELECT COUNT(*)::int\n          FROM messages \n          WHERE conversation_id = \"id\" \n          AND sender_id != $1\n          AND (read_by IS NULL OR NOT (read_by @> '[{\"userId\": \"$2\"}]'::jsonb))\n        ) from \"conversations\" where participants @> '[{\"id\": \"$3\"}]'::jsonb order by \"conversations\".\"last_activity\" desc\nparams: 3fd73e57-b28b-4788-9a83-2f2b3feecad0,3fd73e57-b28b-4788-9a83-2f2b3feecad0,3fd73e57-b28b-4788-9a83-2f2b3feecad0","level":"error","message":"Application error","service":"amhsj","stack":"Error: Failed query: select \"id\", \"subject\", \"type\", \"related_title\", \"participants\", \"last_activity\", \"created_at\", (\n          SELECT content \n          FROM messages \n          WHERE conversation_id = \"id\" \n          ORDER BY created_at DESC \n          LIMIT 1\n        ), (\n          SELECT COUNT(*)::int\n          FROM messages \n          WHERE conversation_id = \"id\" \n          AND sender_id != $1\n          AND (read_by IS NULL OR NOT (read_by @> '[{\"userId\": \"$2\"}]'::jsonb))\n        ) from \"conversations\" where participants @> '[{\"id\": \"$3\"}]'::jsonb order by \"conversations\".\"last_activity\" desc\nparams: 3fd73e57-b28b-4788-9a83-2f2b3feecad0,3fd73e57-b28b-4788-9a83-2f2b3feecad0,3fd73e57-b28b-4788-9a83-2f2b3feecad0\n    at PostgresJsPreparedQuery.queryWithCache (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/pg-core/session.js:55:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async eval (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/postgres-js/session.js:50:20)\n    at async GET (webpack-internal:///(rsc)/./app/api/messages/conversations/route.ts:32:35)\n    at async AppRouteRouteModule.do (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:26:33891)\n    at async AppRouteRouteModule.handle (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:26:41254)\n    at async doRender (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:1513:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:1915:28)\n    at async DevServer.renderPageComponent (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:2393:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:2430:32)\n    at async DevServer.pipeImpl (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:1003:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\next-server.js:304:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:895:17)\n    at async C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\router-server.js:235:21)\n    at async handleRequest (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\router-server.js:426:24)\n    at async requestHandlerImpl (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\router-server.js:450:13)\n    at async Server.requestListener (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)","timestamp":"2025-08-09T14:39:39.794Z"}
{"context":{"endpoint":"/api/messages/conversations"},"error":"Failed query: select \"id\", \"subject\", \"type\", \"related_title\", \"participants\", \"last_activity\", \"created_at\", (\n          SELECT content \n          FROM messages \n          WHERE conversation_id = \"id\" \n          ORDER BY created_at DESC \n          LIMIT 1\n        ), (\n          SELECT COUNT(*)::int\n          FROM messages \n          WHERE conversation_id = \"id\" \n          AND sender_id != $1\n          AND (read_by IS NULL OR NOT (read_by @> '[{\"userId\": \"$2\"}]'::jsonb))\n        ) from \"conversations\" where participants @> '[{\"id\": \"$3\"}]'::jsonb order by \"conversations\".\"last_activity\" desc\nparams: 3fd73e57-b28b-4788-9a83-2f2b3feecad0,3fd73e57-b28b-4788-9a83-2f2b3feecad0,3fd73e57-b28b-4788-9a83-2f2b3feecad0","level":"error","message":"Application error","service":"amhsj","stack":"Error: Failed query: select \"id\", \"subject\", \"type\", \"related_title\", \"participants\", \"last_activity\", \"created_at\", (\n          SELECT content \n          FROM messages \n          WHERE conversation_id = \"id\" \n          ORDER BY created_at DESC \n          LIMIT 1\n        ), (\n          SELECT COUNT(*)::int\n          FROM messages \n          WHERE conversation_id = \"id\" \n          AND sender_id != $1\n          AND (read_by IS NULL OR NOT (read_by @> '[{\"userId\": \"$2\"}]'::jsonb))\n        ) from \"conversations\" where participants @> '[{\"id\": \"$3\"}]'::jsonb order by \"conversations\".\"last_activity\" desc\nparams: 3fd73e57-b28b-4788-9a83-2f2b3feecad0,3fd73e57-b28b-4788-9a83-2f2b3feecad0,3fd73e57-b28b-4788-9a83-2f2b3feecad0\n    at PostgresJsPreparedQuery.queryWithCache (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/pg-core/session.js:55:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async eval (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/postgres-js/session.js:50:20)\n    at async GET (webpack-internal:///(rsc)/./app/api/messages/conversations/route.ts:32:35)\n    at async AppRouteRouteModule.do (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:26:33891)\n    at async AppRouteRouteModule.handle (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:26:41254)\n    at async doRender (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:1513:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:1915:28)\n    at async DevServer.renderPageComponent (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:2393:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:2430:32)\n    at async DevServer.pipeImpl (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:1003:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\next-server.js:304:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:895:17)\n    at async C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\router-server.js:235:21)\n    at async handleRequest (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\router-server.js:426:24)\n    at async requestHandlerImpl (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\router-server.js:450:13)\n    at async Server.requestListener (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)","timestamp":"2025-08-09T14:39:42.768Z"}
{"context":{"endpoint":"/api/messages/conversations"},"error":"Failed query: select \"id\", \"subject\", \"type\", \"related_title\", \"participants\", \"last_activity\", \"created_at\", (\n          SELECT content \n          FROM messages \n          WHERE conversation_id = \"id\" \n          ORDER BY created_at DESC \n          LIMIT 1\n        ), (\n          SELECT COUNT(*)::int\n          FROM messages \n          WHERE conversation_id = \"id\" \n          AND sender_id != $1\n          AND (read_by IS NULL OR NOT (read_by @> '[{\"userId\": \"$2\"}]'::jsonb))\n        ) from \"conversations\" where participants @> '[{\"id\": \"$3\"}]'::jsonb order by \"conversations\".\"last_activity\" desc\nparams: 3fd73e57-b28b-4788-9a83-2f2b3feecad0,3fd73e57-b28b-4788-9a83-2f2b3feecad0,3fd73e57-b28b-4788-9a83-2f2b3feecad0","level":"error","message":"Application error","service":"amhsj","stack":"Error: Failed query: select \"id\", \"subject\", \"type\", \"related_title\", \"participants\", \"last_activity\", \"created_at\", (\n          SELECT content \n          FROM messages \n          WHERE conversation_id = \"id\" \n          ORDER BY created_at DESC \n          LIMIT 1\n        ), (\n          SELECT COUNT(*)::int\n          FROM messages \n          WHERE conversation_id = \"id\" \n          AND sender_id != $1\n          AND (read_by IS NULL OR NOT (read_by @> '[{\"userId\": \"$2\"}]'::jsonb))\n        ) from \"conversations\" where participants @> '[{\"id\": \"$3\"}]'::jsonb order by \"conversations\".\"last_activity\" desc\nparams: 3fd73e57-b28b-4788-9a83-2f2b3feecad0,3fd73e57-b28b-4788-9a83-2f2b3feecad0,3fd73e57-b28b-4788-9a83-2f2b3feecad0\n    at PostgresJsPreparedQuery.queryWithCache (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/pg-core/session.js:55:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async eval (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/postgres-js/session.js:50:20)\n    at async GET (webpack-internal:///(rsc)/./app/api/messages/conversations/route.ts:32:35)\n    at async AppRouteRouteModule.do (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:26:33891)\n    at async AppRouteRouteModule.handle (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:26:41254)\n    at async doRender (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:1513:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:1915:28)\n    at async DevServer.renderPageComponent (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:2393:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:2430:32)\n    at async DevServer.pipeImpl (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:1003:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\next-server.js:304:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:895:17)\n    at async C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\router-server.js:235:21)\n    at async handleRequest (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\router-server.js:426:24)\n    at async requestHandlerImpl (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\router-server.js:450:13)\n    at async Server.requestListener (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)","timestamp":"2025-08-09T14:39:46.143Z"}
{"context":{"endpoint":"/api/messages/conversations"},"error":"Failed query: select \"id\", \"subject\", \"type\", \"related_title\", \"participants\", \"last_activity\", \"created_at\", (\n          SELECT content \n          FROM messages \n          WHERE conversation_id = conversations.id \n          ORDER BY created_at DESC \n          LIMIT 1\n        ), (\n          SELECT COUNT(*)::int\n          FROM messages \n          WHERE conversation_id = conversations.id \n          AND sender_id != $1\n          AND (read_by IS NULL OR NOT (read_by @> '[{\"userId\": \"$2\"}]'::jsonb))\n        ) from \"conversations\" where participants @> '[{\"id\": \"$3\"}]'::jsonb order by \"conversations\".\"last_activity\" desc\nparams: 3fd73e57-b28b-4788-9a83-2f2b3feecad0,3fd73e57-b28b-4788-9a83-2f2b3feecad0,3fd73e57-b28b-4788-9a83-2f2b3feecad0","level":"error","message":"Application error","service":"amhsj","stack":"Error: Failed query: select \"id\", \"subject\", \"type\", \"related_title\", \"participants\", \"last_activity\", \"created_at\", (\n          SELECT content \n          FROM messages \n          WHERE conversation_id = conversations.id \n          ORDER BY created_at DESC \n          LIMIT 1\n        ), (\n          SELECT COUNT(*)::int\n          FROM messages \n          WHERE conversation_id = conversations.id \n          AND sender_id != $1\n          AND (read_by IS NULL OR NOT (read_by @> '[{\"userId\": \"$2\"}]'::jsonb))\n        ) from \"conversations\" where participants @> '[{\"id\": \"$3\"}]'::jsonb order by \"conversations\".\"last_activity\" desc\nparams: 3fd73e57-b28b-4788-9a83-2f2b3feecad0,3fd73e57-b28b-4788-9a83-2f2b3feecad0,3fd73e57-b28b-4788-9a83-2f2b3feecad0\n    at PostgresJsPreparedQuery.queryWithCache (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/pg-core/session.js:55:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async eval (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/postgres-js/session.js:50:20)\n    at async GET (webpack-internal:///(rsc)/./app/api/messages/conversations/route.ts:32:35)\n    at async AppRouteRouteModule.do (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:26:33891)\n    at async AppRouteRouteModule.handle (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:26:41254)\n    at async doRender (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:1513:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:1915:28)\n    at async DevServer.renderPageComponent (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:2393:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:2430:32)\n    at async DevServer.pipeImpl (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:1003:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\next-server.js:304:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:895:17)\n    at async C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\router-server.js:235:21)\n    at async handleRequest (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\router-server.js:426:24)\n    at async requestHandlerImpl (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\router-server.js:450:13)\n    at async Server.requestListener (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)","timestamp":"2025-08-09T16:50:23.075Z"}
{"context":{"endpoint":"/api/messages/conversations"},"error":"Failed query: select \"id\", \"subject\", \"type\", \"related_title\", \"participants\", \"last_activity\", \"created_at\", (\n          SELECT content \n          FROM messages \n          WHERE conversation_id = conversations.id \n          ORDER BY created_at DESC \n          LIMIT 1\n        ), (\n          SELECT COUNT(*)::int\n          FROM messages \n          WHERE conversation_id = conversations.id \n          AND sender_id != $1\n          AND (read_by IS NULL OR NOT (read_by @> '[{\"userId\": \"$2\"}]'::jsonb))\n        ) from \"conversations\" where participants @> '[{\"id\": \"$3\"}]'::jsonb order by \"conversations\".\"last_activity\" desc\nparams: 3fd73e57-b28b-4788-9a83-2f2b3feecad0,3fd73e57-b28b-4788-9a83-2f2b3feecad0,3fd73e57-b28b-4788-9a83-2f2b3feecad0","level":"error","message":"Application error","service":"amhsj","stack":"Error: Failed query: select \"id\", \"subject\", \"type\", \"related_title\", \"participants\", \"last_activity\", \"created_at\", (\n          SELECT content \n          FROM messages \n          WHERE conversation_id = conversations.id \n          ORDER BY created_at DESC \n          LIMIT 1\n        ), (\n          SELECT COUNT(*)::int\n          FROM messages \n          WHERE conversation_id = conversations.id \n          AND sender_id != $1\n          AND (read_by IS NULL OR NOT (read_by @> '[{\"userId\": \"$2\"}]'::jsonb))\n        ) from \"conversations\" where participants @> '[{\"id\": \"$3\"}]'::jsonb order by \"conversations\".\"last_activity\" desc\nparams: 3fd73e57-b28b-4788-9a83-2f2b3feecad0,3fd73e57-b28b-4788-9a83-2f2b3feecad0,3fd73e57-b28b-4788-9a83-2f2b3feecad0\n    at PostgresJsPreparedQuery.queryWithCache (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/pg-core/session.js:55:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async eval (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/postgres-js/session.js:50:20)\n    at async GET (webpack-internal:///(rsc)/./app/api/messages/conversations/route.ts:32:35)\n    at async AppRouteRouteModule.do (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:26:33891)\n    at async AppRouteRouteModule.handle (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:26:41254)\n    at async doRender (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:1513:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:1915:28)\n    at async DevServer.renderPageComponent (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:2393:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:2430:32)\n    at async DevServer.pipeImpl (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:1003:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\next-server.js:304:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:895:17)\n    at async C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\router-server.js:235:21)\n    at async handleRequest (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\router-server.js:426:24)\n    at async requestHandlerImpl (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\router-server.js:450:13)\n    at async Server.requestListener (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)","timestamp":"2025-08-09T16:50:31.879Z"}
{"context":{"endpoint":"/api/users/3fd73e57-b28b-4788-9a83-2f2b3feecad0/submissions"},"error":"Failed query: select \"id\", \"title\", \"category\", \"status\", \"submitted_date\", \"updated_at\", (\n          SELECT COUNT(*) FROM \"reviews\" \n          WHERE \"article_id\" = \"id\"\n        ) from \"articles\" where \"articles\".\"author_id\" = $1 order by \"articles\".\"submitted_date\" desc\nparams: 3fd73e57-b28b-4788-9a83-2f2b3feecad0","level":"error","message":"Application error","service":"amhsj","stack":"Error: Failed query: select \"id\", \"title\", \"category\", \"status\", \"submitted_date\", \"updated_at\", (\n          SELECT COUNT(*) FROM \"reviews\" \n          WHERE \"article_id\" = \"id\"\n        ) from \"articles\" where \"articles\".\"author_id\" = $1 order by \"articles\".\"submitted_date\" desc\nparams: 3fd73e57-b28b-4788-9a83-2f2b3feecad0\n    at PostgresJsPreparedQuery.queryWithCache (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/pg-core/session.js:55:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runNextTicks (node:internal/process/task_queues:69:3)\n    at process.processTimers (node:internal/timers:520:9)\n    at async eval (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/postgres-js/session.js:50:20)\n    at async GET (webpack-internal:///(rsc)/./app/api/users/[id]/submissions/route.ts:35:33)\n    at async AppRouteRouteModule.do (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:26:33891)\n    at async AppRouteRouteModule.handle (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:26:41254)\n    at async doRender (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:1513:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:1915:28)\n    at async DevServer.renderPageComponent (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:2393:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:2430:32)\n    at async DevServer.pipeImpl (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:1003:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\next-server.js:304:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:895:17)\n    at async C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\router-server.js:235:21)\n    at async handleRequest (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\router-server.js:426:24)\n    at async requestHandlerImpl (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\router-server.js:450:13)\n    at async Server.requestListener (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)","timestamp":"2025-08-09T16:54:09.682Z"}
{"context":{"endpoint":"/api/messages/conversations"},"error":"Failed query: select \"id\", \"subject\", \"type\", \"related_title\", \"participants\", \"last_activity\", \"created_at\", (\n          SELECT content \n          FROM messages \n          WHERE conversation_id = conversations.id \n          ORDER BY created_at DESC \n          LIMIT 1\n        ), (\n          SELECT COUNT(*)::int\n          FROM messages \n          WHERE conversation_id = conversations.id \n          AND sender_id != $1\n          AND (read_by IS NULL OR NOT (read_by @> '[{\"userId\": \"$2\"}]'::jsonb))\n        ) from \"conversations\" where participants @> '[{\"id\": \"$3\"}]'::jsonb order by \"conversations\".\"last_activity\" desc\nparams: 3fd73e57-b28b-4788-9a83-2f2b3feecad0,3fd73e57-b28b-4788-9a83-2f2b3feecad0,3fd73e57-b28b-4788-9a83-2f2b3feecad0","level":"error","message":"Application error","service":"amhsj","stack":"Error: Failed query: select \"id\", \"subject\", \"type\", \"related_title\", \"participants\", \"last_activity\", \"created_at\", (\n          SELECT content \n          FROM messages \n          WHERE conversation_id = conversations.id \n          ORDER BY created_at DESC \n          LIMIT 1\n        ), (\n          SELECT COUNT(*)::int\n          FROM messages \n          WHERE conversation_id = conversations.id \n          AND sender_id != $1\n          AND (read_by IS NULL OR NOT (read_by @> '[{\"userId\": \"$2\"}]'::jsonb))\n        ) from \"conversations\" where participants @> '[{\"id\": \"$3\"}]'::jsonb order by \"conversations\".\"last_activity\" desc\nparams: 3fd73e57-b28b-4788-9a83-2f2b3feecad0,3fd73e57-b28b-4788-9a83-2f2b3feecad0,3fd73e57-b28b-4788-9a83-2f2b3feecad0\n    at PostgresJsPreparedQuery.queryWithCache (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/pg-core/session.js:55:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async eval (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/postgres-js/session.js:50:20)\n    at async GET (webpack-internal:///(rsc)/./app/api/messages/conversations/route.ts:32:35)\n    at async AppRouteRouteModule.do (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:26:33891)\n    at async AppRouteRouteModule.handle (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:26:41254)\n    at async doRender (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:1513:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:1915:28)\n    at async DevServer.renderPageComponent (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:2393:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:2430:32)\n    at async DevServer.pipeImpl (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:1003:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\next-server.js:304:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:895:17)\n    at async C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\router-server.js:235:21)\n    at async handleRequest (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\router-server.js:426:24)\n    at async requestHandlerImpl (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\router-server.js:450:13)\n    at async Server.requestListener (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)","timestamp":"2025-08-09T17:10:53.266Z"}
{"context":{"endpoint":"/api/messages/conversations"},"error":"Failed query: select \"id\", \"subject\", \"type\", \"related_title\", \"participants\", \"last_activity\", \"created_at\", (\n          SELECT content \n          FROM messages \n          WHERE conversation_id = conversations.id \n          ORDER BY created_at DESC \n          LIMIT 1\n        ), (\n          SELECT COUNT(*)::int\n          FROM messages \n          WHERE conversation_id = conversations.id \n          AND sender_id != $1\n          AND (read_by IS NULL OR NOT (read_by @> '[{\"userId\": \"$2\"}]'::jsonb))\n        ) from \"conversations\" where participants @> '[{\"id\": \"$3\"}]'::jsonb order by \"conversations\".\"last_activity\" desc\nparams: 3fd73e57-b28b-4788-9a83-2f2b3feecad0,3fd73e57-b28b-4788-9a83-2f2b3feecad0,3fd73e57-b28b-4788-9a83-2f2b3feecad0","level":"error","message":"Application error","service":"amhsj","stack":"Error: Failed query: select \"id\", \"subject\", \"type\", \"related_title\", \"participants\", \"last_activity\", \"created_at\", (\n          SELECT content \n          FROM messages \n          WHERE conversation_id = conversations.id \n          ORDER BY created_at DESC \n          LIMIT 1\n        ), (\n          SELECT COUNT(*)::int\n          FROM messages \n          WHERE conversation_id = conversations.id \n          AND sender_id != $1\n          AND (read_by IS NULL OR NOT (read_by @> '[{\"userId\": \"$2\"}]'::jsonb))\n        ) from \"conversations\" where participants @> '[{\"id\": \"$3\"}]'::jsonb order by \"conversations\".\"last_activity\" desc\nparams: 3fd73e57-b28b-4788-9a83-2f2b3feecad0,3fd73e57-b28b-4788-9a83-2f2b3feecad0,3fd73e57-b28b-4788-9a83-2f2b3feecad0\n    at PostgresJsPreparedQuery.queryWithCache (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/pg-core/session.js:55:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async eval (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/postgres-js/session.js:50:20)\n    at async GET (webpack-internal:///(rsc)/./app/api/messages/conversations/route.ts:32:35)\n    at async AppRouteRouteModule.do (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:26:33891)\n    at async AppRouteRouteModule.handle (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:26:41254)\n    at async doRender (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:1513:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:1915:28)\n    at async DevServer.renderPageComponent (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:2393:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:2430:32)\n    at async DevServer.pipeImpl (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:1003:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\next-server.js:304:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:895:17)\n    at async C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\router-server.js:235:21)\n    at async handleRequest (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\router-server.js:426:24)\n    at async requestHandlerImpl (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\router-server.js:450:13)\n    at async Server.requestListener (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)","timestamp":"2025-08-09T17:10:54.290Z"}
{"context":{"endpoint":"/api/users/3fd73e57-b28b-4788-9a83-2f2b3feecad0/activities"},"error":"value.toISOString is not a function","level":"error","message":"Application error","service":"amhsj","stack":"TypeError: value.toISOString is not a function\n    at PgTimestamp.mapToDriverValue (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/pg-core/columns/timestamp.js:46:18)\n    at eval (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/sql/sql.js:170:73)\n    at Array.map (<anonymous>)\n    at SQL.buildQueryFromSourceParams (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/sql/sql.js:112:32)\n    at eval (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/sql/sql.js:134:21)\n    at Array.map (<anonymous>)\n    at SQL.buildQueryFromSourceParams (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/sql/sql.js:112:32)\n    at eval (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/sql/sql.js:134:21)\n    at Array.map (<anonymous>)\n    at SQL.buildQueryFromSourceParams (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/sql/sql.js:112:32)\n    at eval (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/sql/sql.js:134:21)\n    at Array.map (<anonymous>)\n    at SQL.buildQueryFromSourceParams (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/sql/sql.js:112:32)\n    at eval (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/sql/sql.js:134:21)\n    at Array.map (<anonymous>)\n    at SQL.buildQueryFromSourceParams (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/sql/sql.js:112:32)\n    at eval (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/sql/sql.js:91:26)\n    at Object.startActiveSpan (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/tracing.js:14:14)\n    at SQL.toQuery (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/sql/sql.js:90:60)\n    at PgDialect.sqlToQuery (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/pg-core/dialect.js:423:17)\n    at eval (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/pg-core/query-builders/select.js:790:50)\n    at Object.startActiveSpan (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/tracing.js:14:14)\n    at PgSelectBase._prepare (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/pg-core/query-builders/select.js:788:61)\n    at eval (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/pg-core/query-builders/select.js:816:19)\n    at Object.startActiveSpan (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/tracing.js:14:14)\n    at PgSelectBase.execute (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/pg-core/query-builders/select.js:815:61)\n    at PgSelectBase.then (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/query-promise.js:26:17)","timestamp":"2025-08-09T17:36:15.498Z"}
{"context":{"endpoint":"/api/users/3fd73e57-b28b-4788-9a83-2f2b3feecad0/activities"},"error":"value.toISOString is not a function","level":"error","message":"Application error","service":"amhsj","stack":"TypeError: value.toISOString is not a function\n    at PgTimestamp.mapToDriverValue (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/pg-core/columns/timestamp.js:46:18)\n    at eval (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/sql/sql.js:170:73)\n    at Array.map (<anonymous>)\n    at SQL.buildQueryFromSourceParams (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/sql/sql.js:112:32)\n    at eval (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/sql/sql.js:134:21)\n    at Array.map (<anonymous>)\n    at SQL.buildQueryFromSourceParams (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/sql/sql.js:112:32)\n    at eval (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/sql/sql.js:134:21)\n    at Array.map (<anonymous>)\n    at SQL.buildQueryFromSourceParams (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/sql/sql.js:112:32)\n    at eval (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/sql/sql.js:134:21)\n    at Array.map (<anonymous>)\n    at SQL.buildQueryFromSourceParams (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/sql/sql.js:112:32)\n    at eval (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/sql/sql.js:134:21)\n    at Array.map (<anonymous>)\n    at SQL.buildQueryFromSourceParams (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/sql/sql.js:112:32)\n    at eval (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/sql/sql.js:91:26)\n    at Object.startActiveSpan (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/tracing.js:14:14)\n    at SQL.toQuery (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/sql/sql.js:90:60)\n    at PgDialect.sqlToQuery (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/pg-core/dialect.js:423:17)\n    at eval (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/pg-core/query-builders/select.js:790:50)\n    at Object.startActiveSpan (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/tracing.js:14:14)\n    at PgSelectBase._prepare (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/pg-core/query-builders/select.js:788:61)\n    at eval (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/pg-core/query-builders/select.js:816:19)\n    at Object.startActiveSpan (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/tracing.js:14:14)\n    at PgSelectBase.execute (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/pg-core/query-builders/select.js:815:61)\n    at PgSelectBase.then (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/query-promise.js:26:17)","timestamp":"2025-08-09T20:16:09.338Z"}
{"context":{"endpoint":"/api/messages/conversations"},"error":"Failed query: select \"id\", \"subject\", \"type\", \"related_title\", \"participants\", \"last_activity\", \"created_at\" from \"conversations\" where jsonb_path_exists(participants, '$[*] ? (@.id == \"$1\")') order by \"conversations\".\"last_activity\" desc\nparams: 3fd73e57-b28b-4788-9a83-2f2b3feecad0","level":"error","message":"Application error","service":"amhsj","stack":"Error: Failed query: select \"id\", \"subject\", \"type\", \"related_title\", \"participants\", \"last_activity\", \"created_at\" from \"conversations\" where jsonb_path_exists(participants, '$[*] ? (@.id == \"$1\")') order by \"conversations\".\"last_activity\" desc\nparams: 3fd73e57-b28b-4788-9a83-2f2b3feecad0\n    at PostgresJsPreparedQuery.queryWithCache (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/pg-core/session.js:55:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async eval (webpack-internal:///(rsc)/./node_modules/.pnpm/drizzle-orm@0.44.2_bff692c2dcced4816cbaec8b751e88d9/node_modules/drizzle-orm/postgres-js/session.js:50:20)\n    at async GET (webpack-internal:///(rsc)/./app/api/messages/conversations/route.ts:34:35)\n    at async AppRouteRouteModule.do (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:26:33891)\n    at async AppRouteRouteModule.handle (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:26:41254)\n    at async doRender (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:1513:42)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:1915:28)\n    at async DevServer.renderPageComponent (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:2393:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:2430:32)\n    at async DevServer.pipeImpl (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:1003:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\next-server.js:304:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\base-server.js:895:17)\n    at async C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:371:20\n    at async Span.traceAsyncFn (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:368:24)\n    at async invokeRender (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\router-server.js:235:21)\n    at async handleRequest (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\router-server.js:426:24)\n    at async requestHandlerImpl (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\router-server.js:450:13)\n    at async Server.requestListener (C:\\Users\\CMD\\Downloads\\amjhs\\node_modules\\.pnpm\\next@15.2.4_@babel+core@7.2_c9767f876dbede7027511639b41d1135\\node_modules\\next\\dist\\server\\lib\\start-server.js:158:13)","timestamp":"2025-08-09T20:20:37.113Z"}
